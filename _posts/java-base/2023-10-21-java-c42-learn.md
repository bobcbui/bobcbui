---
layout: post
title: Java基础：Java 泛型
tags: java learn 教程 Java基础教程
categories: Java文档
order: 9
---
Java中的泛型是一种在编译时提供类型安全性的机制，同时它也允许程序员重用代码。泛型的引入减少了代码的冗余，并增加了类型的灵活性和安全性。

### 基础概念

1. **泛型类**:
   泛型类是使用一个或多个类型参数定义的类。类型参数在类名后的尖括号中声明。
   ```java
   public class Box<T> {
       private T t;

       public void set(T t) { this.t = t; }
       public T get() { return t; }
   }
   ```
   在这个例子中，`T` 是一个类型参数，可以在实例化 `Box` 类时用具体的类型替换。

2. **泛型方法**:
   泛型方法独立于类而定义。它可以声明在非泛型类中。
   ```java
   public <T> void genericMethod(T t) {
       // ...
   }
   ```

3. **类型参数命名约定**:
   - `E` - 元素 (用在集合中)
   - `K` - 键 (用在映射中)
   - `V` - 值 (用在映射中)
   - `T` - 类型
   - `S`, `U`, `V` 等 - 用于多个类型参数

4. **泛型接口**:
   接口也可以是泛型的。
   ```java
   interface GenericInterface<T> {
       T performAction(final T t);
   }
   ```

### 泛型的优点

- **类型安全**:
  泛型提高了代码的类型安全性。在编译时检查类型，从而减少运行时的类型错误。

- **代码重用**:
  可以为不同的类型使用相同的代码逻辑。

- **消除类型转换**:
  使用泛型之后，不需要类型转换，因为你可以得到你想要的类型。

### 泛型的限制

- **运行时类型擦除**:
  出于兼容性的考虑，Java在运行时会将泛型类型擦除，将所有的泛型类型转换成普通类型。这意味着在运行时，泛型类实例之间没有类型差异。

- **限制的类型参数**:
  不能使用基本数据类型（如 `int`, `double`, `char`）作为类型参数。需要使用它们的包装类（如 `Integer`, `Double`, `Character`）。

- **实例化类型参数**:
  由于类型擦除，你不能直接实例化 `T` 类型的对象。

### 使用泛型的注意事项

- 了解如何声明和使用泛型方法、类和接口。
- 注意类型擦除和相关的限制。
- 在使用集合等泛型类时，尽量指定泛型类型来提高代码的安全性和清晰性。

泛型是Java中一个非常强大的特性，合理地使用它可以大大提高程序的可读性和可维护性。